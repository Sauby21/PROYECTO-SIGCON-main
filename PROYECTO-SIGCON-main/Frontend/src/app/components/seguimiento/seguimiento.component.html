
<div class="content-cuadro">
    <div class="cuadro">
        <!-- Titulo -->
        <div>
            <h1 class="titulo">Solicitudes</h1>
        </div>

        <!-- PestaÃ±as -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="pendientes-tab" data-bs-toggle="tab" data-bs-target="#pendientes-tab-pane" type="button" role="tab" aria-controls="pendientes-tab-pane" aria-selected="true">Pendientes</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="completadas-tab" data-bs-toggle="tab" data-bs-target="#completadas-tab-pane" type="button" role="tab" aria-controls="completadas-tab-pane" aria-selected="false">Completadas</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="prueba-tab" data-bs-toggle="tab" data-bs-target="#prueba-tab-pane" type="button" role="tab" aria-controls="prueba-tab-pane" aria-selected="false" disabled>Prueba</button>
            </li>
        </ul>
        
        <!-- Tablas -->
        <div class="tab-content" id="myTabContent">
            <!-- Tabla de Cotizaciones Pendientes -->
            <div class="tab-pane fade show active" id="pendientes-tab-pane" role="tabpanel" aria-labelledby="pendientes-tab" tabindex="0">
                <div>
                    <select (change)="onTableSizeChanges($event)">
                        <option *ngFor="let size of tablesizes">
                            {{size}}
                        </option>
                    </select>
                </div>
                <table class="table table-striped table-bordered border-primary table-sm">
                    <thead>
                        <tr>
                            <th class="th-sm">ID Solicitud</th>
                            <th class="th-sm">Predio</th>
                            <th class="th-sm">Solicitante</th>
                            <th class="th-sm">Servicio</th>
                            <th class="th-sm">Cotizar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let solicitud_ of solicitudes|paginate: { itemsPerPage: tablesize, currentPage: page, totalItems: count };let i=index ">                               
                            <td>{{formatear_id(solicitud_.id_solicitud)}}</td>
                            <td>{{solicitud_.predio.descripcion}}</td>
                            <td>{{solicitud_.solicitante.persona.nombre_completo}}</td>
                            <td>{{solicitud_.servicio.descripcion}}</td>
                            <td>                 
                                <button class="button" data-toggle="tooltip" title="Cotizar" (click)="Cotizar(solicitud_.id_solicitud) ">
                                    Cotizar
                                </button>
                                
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div>
                    <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="onTableDataChanges($event)">

                    </pagination-controls>
                </div>
            </div>
            <!-- Tabla de Cotizaciones Completadas -->
            <div class="tab-pane fade" id="completadas-tab-pane" role="tabpanel" aria-labelledby="completadas-tab" tabindex="0">
                <div>
                    <select (change)="onTableSizeChanges($event)">
                        <option *ngFor="let size of tablesizes">
                            {{size}}
                        </option>
                    </select>
                </div>
                <table class="table table-striped table-bordered border-primary table-sm" >
                    <thead>
                        <tr>
                            <th class="th-sm">ID Solicitud</th>
                            <th class="th-sm">Personal</th>
                            <th class="th-sm">Servicio</th>
                            <th class="th-sm">Fecha</th>
                            <th class="th-sm">Importe (S/)</th>
                            <th class="th-sm">Estado</th>
                            <th class="th-sm">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let cotizacion_ of cotizaciones|paginate: { itemsPerPage: tablesize, currentPage: page, totalItems: count };let i=index ">
                            <td>{{formatear_id(cotizacion_.id_solicitud_cotizacion)}}</td>
                            <td>{{cotizacion_.personal.persona.nombre_completo}}</td>
                            <td>{{cotizacion_.solicitud.servicio.descripcion}}</td>
                            <td>{{cotizacion_.fecha_cotizacion}}</td>
                            <td>{{cotizacion_.importe}}</td>
                            <td>{{cotizacion_.estado.descripcion}}</td>
                            <td>                 
                                <div class=" mt-1">
                                    <button type="button" class="btn btn-danger" >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive-fill" viewBox="0 0 16 16">
                                            <path d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div>
                    <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="onTableDataChanges($event)">

                    </pagination-controls>
                </div>
            </div>
            <div class="tab-pane fade" id="prueba-tab-pane" role="tabpanel" aria-labelledby="prueba-tab" tabindex="0">...</div>
        </div>
    </div>
</div>
